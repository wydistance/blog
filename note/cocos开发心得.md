# cocos开发心得



## 开发过程中的体会

- 不要把所有的资源都放在resource.js的res中。 

​        刚开始做js的时候，认为要把所有的资源全都放在resource.js 里面的 src数组中这种做法是错误的。
​	当创建一个新的工程时，在main.js中，它初始化了一个游戏对象，并重写了onStart方法，方法里面初始化了设计分辨率，然后就调用cc.LoaderScene.preload()方法，而这个方法是为了进行异步资源加载的 ，就是我们开头看到的那个很丑的动画，加载完成后的callback才调用了director.runScene方法。

```c++
弄清楚了这个，我们就明白，当我们创建工程的时候，resource.js里面的 res存放的只是app场景所需要的资源文件，我们完全可以在创建类似的想gameRes,MenuRes的数组用来保存每一个场景中需要加载的资源。然后自己定义一个资源加载的场景，进行加载资源就可以了。
```

- this的替换问题

  ​       js的语法里面有一个this替换的问题，就是js的this并不是指向当前的这个对象，而是指向调用的对象。所以在项目中，使用点击事件的时候，this往往会被莫名的替换掉，然后程序就会报错说什么资源不存在。

  ​	解决方法：

  1. 在定义一个新的类的时候，声明一个局部变量`var self = this;`

     ​